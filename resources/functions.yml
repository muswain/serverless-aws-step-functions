GetUsers:
  name: ${self:custom.resourcePrefix}-GetUsers
  handler: /user-handler.getUsers
  description: Gets a list of users whose name startswith the given string
  iamRoleStatementsName: ${self:custom.resourcePrefix}-GetUsers-role
  iamRoleStatements:
    - Effect: Allow
      Action:
        - dynamodb:Query
      Resource: !Sub arn:aws:dynamodb:${AWS::Region}:${AWS::AccountId}:table/${self:custom.resourcePrefix}-user

  events:
    - http:
        method: get
        path: users
        cors: true
        request:
          parameters:
            querystrings:
              name: true
